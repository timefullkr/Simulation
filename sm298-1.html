<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Simulation</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="300" height="400"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // Constants
        const WIDTH = 300;
        const HEIGHT = 400;
        const gravity = 9.8 / 10;
        const restitution = 0.7;
        const R = 10;
        let X = R;
        let Y = HEIGHT / 2;
        const angle = 30;
        const speed = 45;

        // Velocity calculation
        let dx = speed * Math.cos(angle * Math.PI / 180);
        let dy = -speed * Math.sin(angle * Math.PI / 180);

        // Class
        class Ball {
            constructor(x, y, w, h, dx, dy) {
                this.x = x;
                this.y = y;
                this.w = w;
                this.h = h;
                this.dx = dx;
                this.dy = dy;
            }

            move() {
                this.dy += gravity;
                this.x += this.dx;
                this.y += this.dy;

                if(this.x + this.w/2 > WIDTH) {
                    this.x = WIDTH - this.w/2;
                    this.dx *= -restitution;
                } else if(this.x - this.w/2 < 0) {
                    this.x = this.w/2;
                    this.dx *= -restitution;
                }

                if(this.y + this.h/2 > HEIGHT) {
                    this.y = HEIGHT - this.h/2;
                    this.dy *= -restitution;
                } else if(this.y - this.h/2 < 0) {
                    this.y = this.h/2;
                    this.dy *= -restitution;
                }
            }

            display() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.w, 0, Math.PI * 2);
                ctx.fillStyle = "rgba(0, 0, 0, 0.75)";
                ctx.fill();
                ctx.closePath();
            }
        }

        // Instantiate class
        const ball = new Ball(X, Y, R, R, dx, dy);

        // Animation Loop
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ball.move();
            ball.display();

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
